(this.webpackJsonpnetflix=this.webpackJsonpnetflix||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},135:function(e,t,a){},153:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(31),i=a.n(o),s=(a(76),a(28)),l=a(14),u=a.n(l),m=a(26),p=a(5),v=a(6),h=a(8),d=a(7),f=a(33),g=a.n(f),b=a(24),E=a(11),y=a(27),O=a(13),j=function(e){var t=JSON.parse(localStorage.getItem("movies")).filter((function(t){return t.id!==e}));return localStorage.setItem("movies",JSON.stringify(t)),{type:"REMOVE_MOVIE",payload:t}},N=(a(98),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.props.getNumber()}},{key:"nextPath",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){return c.a.createElement("div",{className:"header"},c.a.createElement(b.b,{to:{pathname:"/"}},c.a.createElement(O.a,{className:"header--movie",name:"film"})),c.a.createElement("h3",null,"Netflix ;-)"),c.a.createElement(b.b,{to:{pathname:"/player"}},c.a.createElement(O.b,{className:"header--heart",name:"heart"})),c.a.createElement("div",{className:"header--badge"},this.props.badge))}}]),a}(r.Component)),k=Object(y.b)((function(e){return{badge:e.movies.number}}),(function(e){return{getNumber:function(){return e(function(){var e=JSON.parse(localStorage.getItem("movies"));return{type:"GET_NUMBER",payload:e?e.length:0}}())}}}))(Object(E.f)(N)),S=(a(100),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"headerImg",style:{background:"url(".concat(this.props.imgScr,") no-repeat")}},c.a.createElement("div",{className:"headerImg--overlay"},c.a.createElement("h3",{className:"headerImg--overlay__title"},this.props.title),c.a.createElement("p",{className:"headerImg--overlay__desc"},this.props.overview)))}}]),a}(r.Component)),w=(a(101),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this,t=this.state.value;return c.a.createElement("div",{className:"searchBar--container"},c.a.createElement("div",{className:"searchBar"},c.a.createElement("input",{className:"searchBar--input",type:"text",placeholder:"Search for a movie",value:t,onChange:this.handleChange}),c.a.createElement(O.g,{onClick:function(){return e.props.onSearchClick(t)},className:"searchIcon",name:"search"})))}}]),a}(r.Component)),x="https://api.themoviedb.org/3",I="http://image.tmdb.org/t/p",M="9decf197b21699a2000f890587121c1d",_=(a(102),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderPoster=function(){return e.props.movies.map((function(t){var a="".concat(I,"/").concat("w500","/").concat(t.poster_path);return n=!1,e.props.localMovies&&e.props.localMovies.forEach((function(e){t.id===e.id&&(n=!0)})),c.a.createElement(C,{key:t.id,imgSrc:a,wished:n,movie:t,mTitle:t.title,mDesc:t.overview,id:t.id})}))},e}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"posterList"},c.a.createElement("h3",{className:"posterList--title"},"MOVIES LIST"),c.a.createElement("div",{className:"posterList--grid"},this.renderPoster()))}}]),a}(r.Component)),D=(a(103),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1},e.showOverlay=function(){e.state.hover||e.setState({hover:!0})},e.hideOverlay=function(){e.setState({hover:!1})},e.remove=function(){console.log("remove with redux"),e.props.removeM(e.props.id)},e.add=function(){console.log("add with redux"),e.props.addM(e.props.movie)},e}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"poster",onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay},c.a.createElement(b.b,{to:{pathname:"/".concat(this.props.id)}},c.a.createElement("img",{className:"poster--img",src:this.props.imgSrc,alt:"poster"})),this.state.hover?c.a.createElement("div",{className:"poster--overlay"},c.a.createElement("h3",{className:"poster--overlay__text"},"WHISH LIST"),this.props.wished?c.a.createElement(O.b,{onClick:this.remove,className:"poster--icon",name:"heart"}):c.a.createElement(O.e,{onClick:this.add,className:"poster--icon__not",name:"heart-o"})):null)}}]),a}(r.Component)),C=Object(y.b)(null,(function(e){return{addM:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("movies"));return t?t=[].concat(Object(s.a)(t),[e]):(t=[]).push(e),localStorage.setItem("movies",JSON.stringify(t)),{type:"ADD_MOVIE",payload:t}}(t))},removeM:function(t){return e(j(t))}}}))(D),A=(a(104),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.Loading?c.a.createElement(T,null):c.a.createElement("div",{onClick:this.props.onButtonClick,className:"loadButton"},c.a.createElement("h3",{className:"loadButton--text"},"SEE MORE")))}}]),a}(r.Component)),T=(a(105),function(e){return c.a.createElement("div",{className:"spinner--container"},c.a.createElement(O.h,{className:"fa-spin",name:"spinner"}))}),P=(a(106),function(e){return c.a.createElement("div",null,c.a.createElement("h3",{className:"container--title"},e.content))}),L=(a(107),function(e){return c.a.createElement("div",{className:"stars--container"},e.fakeArray1.map((function(e,t){return c.a.createElement(O.i,{key:t,className:"stars",name:"star"})})),e.fakeArray2.map((function(e,t){return c.a.createElement(O.f,{key:t,className:"stars",name:"star-o"})})))}),U=(a(108),function(e){return c.a.createElement("div",{className:"actorList"},c.a.createElement("h3",{className:"actorList--title"},"ACTORS"),c.a.createElement("div",{className:"actorList--grid"},e.actors.map((function(e,t){var a=e.profile_path?"".concat(I,"/").concat("w500","/").concat(e.profile_path):"./images/no_image.jpg";return c.a.createElement(B,{key:t,imgSrc:a,name:e.name,hover:!1})}))))}),B=(a(109),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hover:!1},e.showOverlay=function(){e.state.hover||e.setState({hover:!0})},e.hideOverlay=function(){e.setState({hover:!1})},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.name.split(" ");return c.a.createElement("div",{onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,className:"actor"},c.a.createElement("img",{className:"actor--img",alt:"actor",src:this.props.imgSrc}),this.state.hover?c.a.createElement("div",{className:"actor--overlay"},c.a.createElement("h3",{className:"actor--name"},e[0]),c.a.createElement("h3",{className:"actor--name"},e[1])):null)}}]),a}(r.Component)),R=function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")},V=function(){var e=!!localStorage.getItem("NETFLIX_APP_LOGGEDIN");return console.log("flag",e),e},F=(a(110),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).calcVote=function(){e.fakeArray1=[],e.fakeArray2=[];for(var t=Math.round(e.props.vote/2),a=5-t,n=0;n<t;n++)e.fakeArray1.push("1");if(0!==a)for(var r=0;r<a;r++)e.fakeArray2.push("1")},e}return Object(v.a)(a,[{key:"render",value:function(){this.calcVote();var e,t="".concat(I,"/").concat("w500","/").concat(this.props.imgSrc);return c.a.createElement("div",{className:"headerDetails"},c.a.createElement("div",{className:"badge-decoration"},this.props.status),c.a.createElement("div",{className:"headerDetails--poster"},c.a.createElement("img",{className:"headerDetails--poster__img",src:t,alt:this.props.mTitle})),c.a.createElement("div",{className:"headerDetails--container"},c.a.createElement("h3",{className:"headerDetails--container__title"},this.props.mTitle),c.a.createElement("p",{className:"headerDetails--container__desc"},this.props.mDesc),c.a.createElement("div",{className:"headerDetails--info"},c.a.createElement("div",{className:"container"},c.a.createElement(O.c,{style:{fontSize:35}}),c.a.createElement(P,{iconName:"FaHourglassHalf",content:R(this.props.runtime)})),c.a.createElement(L,{fakeArray1:this.fakeArray1,fakeArray2:this.fakeArray2}),c.a.createElement("div",{className:"container"},c.a.createElement(O.d,{style:{fontSize:35,marginRight:2}}),c.a.createElement(P,{iconName:"FaMoneyCheckAlt",content:(e=this.props.revenue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e))})))))}}]),a}(r.Component)),G=a(64),J=a.n(G),z=(a(128),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleEnded=function(){console.log("video ended")},e}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"videoPlayer"},c.a.createElement(J.a,{url:this.props.videoUrl,controls:!0,playing:!1,width:"100%",height:"100%",style:{position:"absolute",top:"0",left:"0"},light:this.props.imageUrl,onEnded:this.props.handleEnded}))}}]),a}(r.Component)),H=(a(129),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).callbackFunction=function(e){console.log(e),n.setState({reload:e})},n.renderList=function(e){return e.movies.map((function(t,a){var r=t.id===e.selectedMovie.id;return c.a.createElement(X,Object.assign({parentCallback:n.callbackFunction},t,{key:t.id,number:a+1,active:r}))}))},n.state={reload:!1},n}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"mvPlayerList"},c.a.createElement("div",{className:"mvPlayerList--header"},c.a.createElement("h3",null,"Current movie: ",this.props.selectedMovie.title)),c.a.createElement("div",{className:"mvPlayerList--list"},this.renderList(this.props)))}}]),a}(r.Component)),Y=(a(130),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.active?"mvPlayerListItem active":"mvPlayerListItem";return c.a.createElement(b.b,{style:{textDecoration:"none",color:"white"},to:{pathname:"/player/".concat(this.props.id)}},c.a.createElement("div",{className:e},c.a.createElement("div",{className:"mvPlayerListItem--number"},this.props.number),c.a.createElement("div",{className:"mvPlayerListItem--title"},this.props.title),c.a.createElement("div",{className:"mvPlayerListItem--time"},this.props.duration)),c.a.createElement("div",{className:"mvPlayerListItem--divider"}))}}]),a}(r.Component)),X=Object(y.b)(null,(function(e){return{removeM:function(t){return e(j(t))}}}))(Y),K=a(166),Q=a(167),W=a(170),q=a(168),Z=a(169),$=a(65),ee=a.n($),te=(a(135),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props,t=e.env,a=e.client,n=e.currency,r=e.total,o=e.onError,i=e.onSuccess,s=e.onCancel;return c.a.createElement("div",{className:"payment"},c.a.createElement(K.a,{className:"payment--card"},c.a.createElement(Q.a,null,c.a.createElement(W.a,{color:"danger"},c.a.createElement("h3",null,"PAYMENT REQUIRED TO CONTINUE!"))),c.a.createElement(q.a,{className:"payment--body"},c.a.createElement(Z.a,{className:"payment--text"},"YOU NEED TO PAY YOUR SUBSCRIPTION"),c.a.createElement("div",{className:"payment--button"},c.a.createElement(ee.a,{env:t,client:a,currency:n,total:r,onError:o,onSuccess:i,onCancel:s})))))}}]),a}(r.Component)),ae=V(),ne=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={flag:ae},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.state.flag?this.props.getMovies():this.props.history.push({pathname:"/login"})}},{key:"render",value:function(){var e=this.props,t=e.mTitle,a=e.mDesc,n=e.image,r=e.movies,o=e.loading;return c.a.createElement("div",null,c.a.createElement(S,{title:t,overview:a,imgScr:n}),c.a.createElement(w,{onSearchClick:this.props.onSearchClick}),c.a.createElement(_,{movies:r,localMovies:this.props.localMovies}),c.a.createElement(A,{onButtonClick:this.props.onButtonClick,Loading:o}))}}]),a}(r.Component),re=Object(y.b)((function(e){return{localMovies:e.movies.movies}}),(function(e){return{getMovies:function(){return e({type:"GET_MOVIES",payload:JSON.parse(localStorage.getItem("movies"))})}}}))(Object(E.f)(ne)),ce=V(),oe=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,actors:[],mTitle:"",mDesc:"",imgSrc:"",revenue:"",runtime:"",status:"",vote:"",flag:ce},e.loadInfos=function(e){return g.a.get(e)},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,c,o,i,l,p,v,h,d=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.flag){e.next=4;break}return this.props.history.push({pathname:"/login"}),e.abrupt("return");case 4:return t=this.props.match.params.id,a="".concat(x,"/movie/").concat(t,"?api_key=").concat(M,"&language=en"),e.next=8,this.loadInfos(a);case 8:n=e.sent,r=n.data,c=r.revenue,o=r.runtime,i=r.title,l=r.overview,p=r.status,v=r.vote_average,h=r.poster_path,this.setState({revenue:c,runtime:o,mTitle:i,mDesc:l,status:p,imgSrc:h,vote:v},Object(m.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(x,"/movie/").concat(t,"/credits?api_key=").concat(M,"&language=fr"),e.next=3,d.loadInfos(a);case 3:n=e.sent,r=n.data.cast,d.setState({actors:Object(s.a)(r),loading:!1});case 6:case"end":return e.stop()}}),e)})))),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("e",e.t0);case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.mTitle,n=e.mDesc,r=e.actors,o=e.imgSrc,i=e.revenue,s=e.runtime,l=e.status,u=e.vote;return c.a.createElement("div",{className:"app"},t?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(F,{mTitle:a,mDesc:n,imgSrc:o,runtime:s,revenue:i,status:l,vote:u}),c.a.createElement(U,{actors:r})))}}]),a}(r.Component),ie=function(e){return c.a.createElement("div",{style:se},c.a.createElement("p",null,"OOOOPS!!! PAGE NOT FOUND!"))},se={margin:"200px",fontSize:"5rem",display:"flex",flexDirection:"row",justifyContent:"center"},le=a(66),ue=a.n(le),me=a(25),pe=a.n(me),ve=(a(153),[]),he=V(),de=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],selectedMovie:[],loading:!0,flag:he},e.getSelectedMovie=function(e,t){return ue.a.find(e,{id:parseInt(t,10)})},e.handleEnded=function(){console.log("video ended");var t=e.state,a=t.movies,n=t.selectedMovie,r=a.findIndex((function(e){return n.id===e.id})),c=a[r===a.length-1?0:r+1];e.props.history.push({pathname:"/player/".concat(c.id)}),e.setState({selectedMovie:c})},e.getTime=function(e){return new Promise((function(t,a){var n="".concat(x,"/movie/").concat(e,"?api_key=").concat(M,"&language=en");g.a.get(n).then((function(e){var a=e.data.runtime;t(a)})).catch((function(e){console.log("e",e),a("error ",e)}))}))},e.getNewMovies=function(){var t=Object(m.a)(u.a.mark((function t(a){var n,r,c,o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Array.isArray(a)||!a.length){t.next=14;break}n=[],r=0;case 3:if(!(r<a.length)){t.next=13;break}return c=a[r],o=c.id,t.next=8,e.getTime(o);case 8:i=t.sent,n.push(R(i));case 10:r++,t.next=3;break;case 13:return t.abrupt("return",Promise.all(n));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.flag){e.next=3;break}return this.props.history.push({pathname:"/login"}),e.abrupt("return");case 3:if(setTimeout((function(){var e=pe.a.auth().currentUser;e&&pe.a.database().ref("users/".concat(e.uid)).on("value",function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.val(),console.log("data",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),3e3),t=JSON.parse(localStorage.getItem("movies")),!Array.isArray(t)||!t.length){e.next=14;break}return e.next=8,this.getNewMovies(t);case 8:a=e.sent,ve=t.map((function(e,t){return{id:e.id,position:t+1,title:e.title,duration:a[t],imageUrl:"".concat(I,"/").concat("w1280","/").concat(e.backdrop_path),videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}})),(n=this.props.match.params.id)?(r=this.getSelectedMovie(ve,n),this.setState({loading:!1,movies:Object(s.a)(ve),selectedMovie:r})):(c=ve[0],this.setState({loading:!1,movies:Object(s.a)(ve),selectedMovie:c}),this.props.history.push({pathname:"/player/".concat(c.id)})),e.next=15;break;case 14:this.setState({loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(e.match.params.id!==this.props.match.params.id){var t=this.props.match.params.id,a=this.getSelectedMovie(ve,t);this.setState({selectedMovie:a})}}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.selectedMovie;return c.a.createElement("div",{className:"moviePlayer"},this.state.loading?c.a.createElement(T,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(z,{videoUrl:a.videoUrl,imageUrl:a.imageUrl,handleEnded:this.handleEnded}),c.a.createElement(H,{movies:t,selectedMovie:a})))}}]),a}(r.Component),fe=a(67),ge=a.n(fe),be=(a(162),{signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[pe.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return console.log("connection succeed"),localStorage.setItem("NETFLIX_APP_LOGGEDIN",!0),!0}}}),Ee=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"login"},c.a.createElement(W.a,{color:"primary"},c.a.createElement("h3",null,"You need to login to continue")),c.a.createElement(ge.a,{uiConfig:be,firebaseAuth:pe.a.auth(),uiCallback:function(e){return e.disableAutoSignIn()}}))}}]),a}(r.Component),ye={sandbox:"AaEHC5KH-TP4v-dqP7H579bwTkxRkDGiLEsYr_3AaJjlHc4zBBmnSNEtsL-40BnUVskjQxhJc0ro00VM",production:"xxxxxx"},Oe=function(e){console.log("error",e)},je=function(e){return console.log("payment cancelled",e)},Ne=function(e){return c.a.createElement(te,{env:"production",client:ye,total:100,currency:"USD",onError:Oe,onCancel:je,onSuccess:function(t){console.log("payment succeed");var a=pe.a.auth().currentUser,n=pe.a.database().ref("users/".concat(a.uid)),r=new Date,c=r.setDate(r.getDate()+30);console.log("newDate",c),n.set({validUntil:c}).then((function(){console.log("operation succeed"),e.history.push({pathname:"/"})})).catch((function(e){console.log("error",e)}))}})},ke=a(69),Se=a.n(ke),we=a(34),xe=a(36),Ie={movies:[],number:0},Me=Object(we.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MOVIE":return{movies:t.payload,number:t.payload.length};case"REMOVE_MOVIE":return{movies:t.payload,number:e.number-1};case"GET_MOVIES":return Object(xe.a)(Object(xe.a)({},e),{},{movies:t.payload});case"GET_NUMBER":return Object(xe.a)(Object(xe.a)({},e),{},{number:t.payload});default:return e}}}),_e=Object(we.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),De=Object(we.d)(Me,{},_e),Ce=(a(163),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,movies:[],badge:0,image:null,mTitle:"",mDesc:"",activePage:0,totalPages:0,searchText:""},e.loadMovies=function(){var t=e.state.activePage+1,a="https://api.themoviedb.org/3/movie/popular?api_key=".concat(M,"&page=").concat(t,"&language=en");return console.log("API_URL: ",a),g.a.get(a)},e.searchMovie=function(){var t="".concat(x,"/search/movie?api_key=").concat(M,"&query=").concat(e.state.searchText,"&language=en");return g.a.get(t)},e.handleSearch=function(t){try{e.setState({loading:!0,searchText:t,image:null},Object(m.a)(u.a.mark((function t(){var a,n,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.searchMovie();case 2:a=t.sent,n=a.data,r=n.results,c=n.page,o=n.total_pages,e.setState({movies:r,loading:!1,activePage:c,totalPages:o,image:"".concat(I,"/").concat("w1280","/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview});case 8:case"end":return t.stop()}}),t)}))))}catch(a){console.log("e",a)}},e.loadMore=Object(m.a)(u.a.mark((function t(){var a,n,r,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({loading:!0}),t.next=4,e.loadMovies();case 4:a=t.sent,n=a.data,r=n.results,c=n.page,o=n.total_pages,console.log("res",r),e.setState({movies:[].concat(Object(s.a)(e.state.movies),Object(s.a)(r)),loading:!1,activePage:c,totalPages:o,image:"".concat(I,"/").concat("w1280","/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("error load more",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Object(me.initializeApp)({apiKey:"AIzaSyBJ8WjwI0bKNPpTDwozdBYF0GLz4RQzyuE",authDomain:"mini-netflix-64ac0.firebaseapp.com",databaseURL:"https://mini-netflix-64ac0.firebaseio.com",projectId:"mini-netflix-64ac0",storageBucket:"mini-netflix-64ac0.appspot.com",messagingSenderId:"537150750226",appId:"1:537150750226:web:42c0c005c781f799b2e2cb"}),e.next=4,this.loadMovies();case 4:t=e.sent,a=t.data,n=a.results,r=a.page,c=a.total_pages,this.setState({movies:n,loading:!1,activePage:r,totalPages:c,image:"".concat(I,"/").concat("w1280","/").concat(n[0].backdrop_path),mTitle:n[0].title,mDesc:n[0].overview}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("e",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return c.a.createElement(y.a,{store:De},c.a.createElement(b.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(k,{badge:this.state.badge}),this.state.image?c.a.createElement(E.c,null,c.a.createElement(E.a,{path:"/",exact:!0,render:function(){return c.a.createElement(re,Object.assign({},e.state,{onSearchClick:e.handleSearch,onButtonClick:e.loadMore}))}}),c.a.createElement(E.a,{path:"/player",exact:!0,component:de}),c.a.createElement(E.a,{path:"/player/:id",exact:!0,component:de}),c.a.createElement(E.a,{path:"/login",exact:!0,component:Ee}),c.a.createElement(E.a,{path:"/payment",exact:!0,component:Ne}),c.a.createElement(E.a,{path:"/:id",exact:!0,component:oe}),c.a.createElement(E.a,{component:ie})):c.a.createElement(T,null),c.a.createElement(Se.a,{location:"bottom",buttonText:"Understood",cookieName:"cookieAccept",style:{background:"#2B373B"},buttonStyle:{color:"#4e503b",fontSize:"20px"},expires:150},c.a.createElement("span",{style:{fontSize:"20px"}},"This website uses local storage to enhance the user experience."," ")))))}}]),a}(r.Component));a(164);i.a.render(c.a.createElement(Ce,null),document.getElementById("root"))},71:function(e,t,a){e.exports=a(165)},76:function(e,t,a){},98:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.521a79df.chunk.js.map